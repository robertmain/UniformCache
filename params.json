{"name":"Uniformcache","tagline":"A universal cache for PHP which aims to provide a modular, extensible and perhaps most importantly consistent interface to as many caching solutions as possible in PHP.","body":"#Uniform Cache\r\n##What is it?\r\nThis module provides a modular, extensible uniform caching interface to most caching platforms. This includes(in order of priorty):  \r\n\r\n1. Dummy Cache   \r\n1. File Cache  \r\n1. MySQL  \r\n1. APC (Beta)\r\n1. Shared Memory (Coming soon)  \r\n1. Memcached (Coming soon)  \r\n1. Redis (Coming soon)  \r\n\r\n---\r\n##For Users:\r\n###Cache Method Summary:\r\n\r\n- ``+ get(String $key, [function $generator])``  \r\n\t**Description:** *Returns the requested object from the cache, unless the item has expired and/or been removed in which case, providing the second parameter has not been provided, false is returned.*  \r\n\t**A node on read-through caching:**  \r\n\t*The second (optional) paramter is a generator that can be passed in to supply the data being requested in the event that it is not present in the cache. \r\n\tThis should be done in the following way:*  \r\n\r\n\t```php\r\n\t\t$settings = array(\r\n\t\t\t'DiskAdapter' => array(\r\n\t\t\t\t'filename' => 'cache' //Creates a cache file called \"cache.json\";\r\n\t\t\t)\r\n\t\t);\r\n\t\t$myCache = new UniformCache\\Cache($settings);\r\n\t\t$generator = function(){\r\n\t\t\treturn array(\r\n\t\t\t\t'value'=>'TheCacheDoesntHaveMeSoThisFunctionProvidesMeInstead', //Some arbitary value, basically what you want to save to the cache.  \r\n\t\t\t\t'ttl' => 3600 //The ttl(time to live) in seconds of your cached object. This is optional, however ommiting this will result in a cache object that never dies.\r\n\t\t\t);\r\n\t\t}\r\n\t\techo $myCache->get('ImAskingForSomethingTheCacheDoesntHave', $generator); //Returns \"TheCacheDoesntHaveMeSoThisFunctionProvidesMeInstead\" as well as saving it to the cache.\r\n\t```  \r\n\t**Returns:** ``Mixed``  \r\n\r\n- ``+ set(String $key, Mixed $value, int $ttl)``  \r\n\t**Description:** *Stores an item (specified by ``$value``) in the cache under the key supplied by ``$key`` and (optionally) to expire after the number of seconds specified by ``$ttl``*  \r\n\t**Returns:** ``void``\r\n\r\n- ``+ delete(String $key)``  \r\n\t**Description:** *Removes the item from the cache specified by ``$key``.*  \r\n\t**Returns:**  ``void``\r\n\r\n- ``+ purge(void)``  \r\n\t**Description:** *Completely empties the cache.*  \r\n\t**Returns:** ``void``  \r\n\r\n###How-To:  \r\n1. Extract this library to your project folder.\r\n1. Include Cache.php (e.g: ``include dirname(__FILE__) . './lib/Cache.php';``)\r\n1. Create a new instance of Cache.php, passing in an array of adapter settings with the name of the adapter you wish to use as the key.  \r\nAn array of settings should be passed into the new instance of ``Cache()`` thus:  \r\n\t**NOTE: If the settings for a particular adapter are missing or the array key does not match that of the class and/or file, they will not be passed to the adapter**  \r\n\r\n\t```php  \r\n\t$settings = array(  \r\n\t\t'DiskAdapter' => array(  \r\n\t\t\t'filename' => 'cache'  //sets the filename of the cachefile.\r\n\t\t)  \r\n\t);\r\n\t$myCache = new UniformCache\\Cache($settings);\r\n\t```\r\n1. To set a cache item simply call ``$myCache->set($key, $value, $ttl)`` where ``$key`` is the key used to retrieve the data later, ``$value`` is the data you wish to store and the third paramter(optional) specifies the ttl (or time to live) of the item you wish to store. In other words - setting a ttl of 10 would keep the object for 10 seconds after which it would \"expire\" and be removed from the cache. To store a Date object for 10 seconds the following syntax would be used: ``$myCache->set('currentDateObject', new Date(), 10);``. After 10 seconds this object would expire and be removed from the cache.\r\n1. To retrieve an item from the cache simply call ``$myCache->get('currentDateObject');``. In this case, this would return the date object we previously stored in the cache.\r\n\r\n###Usage\r\n####Simple Caching  \r\n```php\r\n\t//For file based caching\r\n\t$settings = array(\r\n\t\t'DiskAdapter'=>array(\r\n\t\t\t'filename' => 'foo' //creates a foo.json file in the cache folder\r\n\t\t)\r\n\t);\r\n\t$uc = new UniformCache\\Cache($settings);\r\n\t$uc->set('foo', 'bar', 7200); //Will stay in the cache for 2 hours\r\n\techo $uc->get('foo'); //Will return \"bar\" from the cache.\r\n```  \r\n####Read Through Caching\r\nWhen dealing with caching it is desirable to check to make sure the cache has the object before requesting a new copy of it (otherwise, why bother caching?).\r\nThere are a number of ways to do this. One such way would be to simply use the `get` method, check to see if it returns false (indicating a cache miss), and then get the data manually and call the `set()` method.\r\n\r\nHowever, a much better way of handling this problem is to use read through caching. This makes it makes it possible to request an item from the cache and also to provide a function to return that item and store it in the cache\r\nin the event of a cache miss. This can be done as follows:\r\n```php\r\n\t$settings = array(\r\n\t\t'DiskAdapter' => array(\r\n\t\t\t'filename' => 'cache';\r\n\t\t)\r\n\t);\r\n\t$myCache = new UniformCache\\Cache($settings);\r\n\t$generator = function(){\r\n\t\treturn array(\r\n\t\t\t'value'=> $user,\r\n\t\t\t'ttl' => 3600\r\n\t\t);\r\n\t}\r\n\techo $myCache->get('userData', $generator);\r\n```  \r\nThe returned array returned by the generator function must always be in the format shown above.\r\n###Adapter Specific Settings And Format\r\n| Adapter | Option | Description |\r\n|---------|--------|-------------|\r\n| **Dummy Adapter**|`n/a`| No options are required for this adapter|\r\n| **File Adapter** |||\r\n|\t\t\t\t   | `filename` | Specifies the name to give the cache file. It is important to note that .json is appended to the file name, therefore there is no need to provide an extension |\r\n| **MySQL Adapter**|||\r\n|                  | `host` | The hostname of the MySQL server you want to connect to |\r\n|                  | `port` | The port that MySQL is running on, if you're not sure, just leave it at 3306 |\r\n|                  | `username` | The username to use to connect to MySQL. |\r\n|                  | `password` | Your MySQL password |\r\n|                  | `database` | The database you wish to connect to. |\r\n|                  | `table` | The name of the table you want to store your cache objects in |\r\n\r\n**A Sample Configuration Array**  \r\n*This example will attempt to connect to MySQL and fall back to the DiskAdapter if MySQL is unavailable for some reason*\r\n```php\r\n$settings = array(\r\n\t'DiskAdapter' => array(\r\n\t\t'filename' => 'foo'\r\n\t),\r\n\t'MySQLAdapter' => array(\r\n\t\t'host' => 'localhost',   //The hostname of your database server\r\n\t\t'port' => 3306 \t\t     //The port of your database server, if you're not sure then 3306 is usually a good idea.\r\n\t\t'username' => 'root',    //Your database username. This is the username you use to connect to MySQL\r\n\t\t'password' => '', \t     //This is the password for your database user\r\n\t\t'database' => '',\t     //This is the name of the database where your cache table is\r\n\t\t'table' => 'cache'\t     //This is the name of your cache table.\r\n\t),\r\n\t'APCAdapter' => array(),     //Not yet implemented\r\n\t'SharedMemoryAdapter' => array(), //Not yet implemented \r\n\t'MemcachedAdapter' => array(),\t //Not yet implemented\r\n\t'RedisAdapter' => array()\t\t //Not yet implemented\r\n);\r\n```\r\n*Sidenote: Only the configuration section relevant to your preferred caching mechanism is required, the rest are included above purely for documentation purposes. So if you only want to use file based caching, then you only need to include the `DiskAdapter` section of the above.*\r\n\r\n---  \r\n\r\n##For Developers:\r\n\r\n###Writing Your Own Adapter\r\nUniform Cache is a modular and extensible caching framework and as such allows you to write your own adapters to support whatever caching methods you see fit.\r\n\r\n1. Create a new PHP file in the \"adapters\" folder the name of the file(and the class) should be the title of the caching service you wish to support followed by the word \"Adapter\". This should be in title case. For example to support Foo you would name both the the class and the file \"FooAdapter\" and \"FooAdapter.php\" respectively.  \r\n1. An interface is provided in the adapters folder named Adapter.interface.php. This should be implemented by your adapter along with all methods contained.  \r\n\t####Adapter Interface Method Summary:   \r\n\t- ``+ get(String $key);``  \r\n\t\t**Description:** *Returns the requested object from the cache, unless the item has expired and/or been removed in which case, false should be returned to indicate a cache miss.*  \r\n\t\t**Returns:** ``Mixed``\r\n\r\n\t- ``+ set(String $key, Mixed $value, int $ttl);``  \r\n\t\t**Description:** *Stores an item (specified by ``$value``) in the cache under the key supplied by ``$key`` and (optionally) to expire after the number of seconds specified by ``$ttl``*  \r\n\t\t**Returns:** ``void``\r\n\r\n\t- ``+ delete(String $key);``  \r\n\t\t**Description:** *Removes the item from the cache specified by ``$key``.*  \r\n\t\t**Returns:** ``void``  \r\n\r\n\t- ``+ purge();``  \r\n\t\t**Description:** *Completely empties the cache.*  \r\n\t\t**Returns:** ``void``\r\n\r\n\t- ``+`` <u>``getPriority``</u>``();``  \r\n\t\t**Description:** *Returns an integer denoting priorty of the adapter in question. This determines the order in which adapters are loaded and used. The first available adapter with the highest priorty is loaded by default. Therefore an adapter with a priority of 6 will be loaded in preference to an adapter with a priority of 5. This is to allow for fallback behaviour (e.g. When MySQL is unavailable fall back to file based caching)*  \r\n\t\t**Returns:** ``int``\r\n\r\n\t- ``+`` <u>``usable``</u>``();``  \r\n\t\t**Description:** *Returns a boolean indicating whether or not this adapter is currently usable. This behaves somewhat like an on/off switch. An adapter with this set to false will not be loaded. This is also useful to ensure that the MySQL connection is successful before loading the adapter(e.g: connect to MySQL, then have your adapter set this to ``true`` to allow the adapter to load).*  \r\n\t\t**Returns:** ``boolean``\t\r\n1. Finally, in order to be loaded correctly, your adapter must be in the ``UniformCache`` namespace.\r\n\r\n\r\n#Licence\r\nGPL. See [LICENCE](https://github.com/robertmain/UniversalCache/blob/master/LICENCE) for more info.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}